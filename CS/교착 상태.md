## ✨ 교착 상태(Deadlock)

### 교착 상태란?

- 일어나지 않을 사건을 기다리며 무한히 대기하는 현상
- **둘 이상의 프로세스들이 자원을 점유한 상태에서 서로 다른 프로세스가 점유하고 있는 자원을 요구하며 무한정 기다리는 상황**
- 배치 처리 시스템에서는 일어나지 않는 문제이며 프로세스, 스레드 둘 다 이와 같은 상태가 일어날 수 있다.
</br>
</br>

### 교착 상태 발생 조건

#### 1. 상호 배제
- 한 프로세스가 사용하는 자원을 다른 프로세스가 사용할 수 없는 상황
- 한 번에 프로세스 하나만 해당 자원을 사용할 수 있는 경우

</br>

#### 2. 점유와 대기
- 자원을 할당받은 상태에서 다른 자원을 할당받기를 기다리는 상태

</br>

#### 3. 비선점
- 비선점 자원은 그 자원을 이용하는 프로세스의 작업이 끝나야만 이용할 수 있다.
- 즉, 어떤 프로세스도 다른 프로세스의 자원을 강제로 빼앗지 못했기 때문에 교착 상태가 발생할 수 있다.

</br>

#### 4. 원형 대기

- 프로세스들이 원의 형태로 자원을 대기하는 것


</br>
</br>


### 교착 상태 해결 방법
> 위에 나온 4가지의 조건 중 하나라도 제거하면 된다. </br>
</br>

1. 예방(Prevention) : 교착 상태가 발생하지 않도록 하는 것
 
2. 회피(Avoidance) : 교착 상태를 피하는 것 </br>
    > Ex) Dijkstra의 Banker’s Algorithm </br>
 </br>
 
3. 탐지(Detection) : 교착 상태가 발생하면 탐지 하는 것, 복구를 수반   
  ​
4. 회복(Recovery) : 순환 대기에서 벗어나 데드락으로부터 회복하기 위한 방법을 사용 </br>
    > 프로세스 중지, 자원 선점(희생자의 선택-> 기아, 복귀) </br>

</br>
</br>

### 은행원 알고리즘 (Banker's Algorithm)

- 다익스트라가 제안한 기법으로, 어떤 자원의 할당을 허용하는지에 관한 여부를 결정하기 전에, 미리 결정된 모든 자원들의 최대 가능한 할당량을 가지고 시뮬레이션 해서 안정 상태(Safe state)에 들 수 있는지 여부를 검사
- 즉 대기 중인 다른 프로세스들의 활동에 대한 교착 상태 가능성을 **미리 조사**하는 것
- 자원 할당량을 사전에 파악하고 데드락을 회피할 수 있도록 한다.
- 미리 최대 자원 요구량을 알아야 하고, 할당할 수 있는 자원 수가 일정해야 하는 등 사용에 있어 제약조건이 많고, 그에 따른 자원 이용도 하락 등 단점도 존재


